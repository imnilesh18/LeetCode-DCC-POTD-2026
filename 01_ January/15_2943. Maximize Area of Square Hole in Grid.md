# 2943. Maximize Area of Square Hole in Grid

<p align="center">
  <a href="https://leetcode.com/problems/maximize-area-of-square-hole-in-grid/description/">
    <img src="https://img.shields.io/badge/LeetCode-2943-FFA116?style=for-the-badge&logo=leetcode" alt="LeetCode 2943">
  </a>
  <a href="https://github.com/imnilesh18">
    <img src="https://img.shields.io/badge/Author-imnilesh18-blue?style=for-the-badge&logo=github" alt="Author">
  </a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Difficulty-Medium-orange?style=for-the-badge" alt="Difficulty: Medium">
  <img src="https://img.shields.io/badge/Language-C++-00599C?style=for-the-badge&logo=c%2B%2B" alt="C++">
  <img src="https://img.shields.io/badge/Topic-Array-lightgrey?style=flat-square" alt="Array">
  <img src="https://img.shields.io/badge/Topic-Sorting-lightgrey?style=flat-square" alt="Sorting">
  <img src="https://img.shields.io/badge/Topic-Greedy-lightgrey?style=flat-square" alt="Greedy">
</p>

---

## üìù Problem Statement

You are given the two integers, `n` and `m` and two integer arrays, `hBars` and `vBars`. The grid has `n + 2` horizontal and `m + 2` vertical bars, creating `1 x 1` unit cells. The bars are indexed starting from `1`.

You can **remove** some of the bars in `hBars` from horizontal bars and some of the bars in `vBars` from vertical bars. Note that other bars are fixed and cannot be removed.

Return *an integer denoting the **maximum area** of a **square-shaped** hole in the grid, after removing some bars (possibly none).*

---

## üì∏ Examples

### Example 1
<div align="center">
  <img src="https://assets.leetcode.com/uploads/2023/11/05/screenshot-from-2023-11-05-22-40-25.png" alt="Example 1 Image" width="400"/>
</div>

**Input:** `n = 2, m = 1, hBars = [2,3], vBars = [2]`
**Output:** `4`
**Explanation:**
The left image shows the initial grid formed by the bars. The horizontal bars are `[1,2,3,4]`, and the vertical bars are `[1,2,3]`.
One way to get the maximum square-shaped hole is by removing horizontal bar 2 and vertical bar 2.

### Example 2
<div align="center">
  <img src="https://assets.leetcode.com/uploads/2023/11/04/screenshot-from-2023-11-04-17-01-02.png" alt="Example 2 Image" width="400"/>
</div>

**Input:** `n = 1, m = 1, hBars = [2], vBars = [2]`
**Output:** `4`
**Explanation:**
To get the maximum square-shaped hole, we remove horizontal bar 2 and vertical bar 2.

### Example 3
<div align="center">
  <img src="https://assets.leetcode.com/uploads/2024/03/12/unsaved-image-2.png" alt="Example 3 Image" width="400"/>
</div>

**Input:** `n = 2, m = 3, hBars = [2,3], vBars = [2,4]`
**Output:** `4`
**Explanation:**
One way to get the maximum square-shaped hole is by removing horizontal bar 3, and vertical bar 4.

---

## üõë Constraints

- `1 <= n <= 10^9`
- `1 <= m <= 10^9`
- `1 <= hBars.length <= 100`
- `2 <= hBars[i] <= n + 1`
- `1 <= vBars.length <= 100`
- `2 <= vBars[i] <= m + 1`
- All values in `hBars` are distinct.
- All values in `vBars` are distinct.

---

## üß† Approach

### Key Insights
The core of this problem lies in understanding how removing bars affects the grid's continuous space. 
1.  **Removal Impact**: Removing a single bar merges two adjacent `1x1` cells. Removing `k` consecutive bars creates a continuous gap spanning `k + 1` units.
2.  **Square Requirement**: A square requires equal width and height. Therefore, the maximum side length of our square hole will be determined by the minimum of the longest available horizontal gap and the longest available vertical gap.
3.  **Strategy**: 
    - Find the longest sequence of consecutive removable bars in `hBars`. Let this length be `maxH`. The height of the hole we can form is `maxH + 1`.
    - Find the longest sequence of consecutive removable bars in `vBars`. Let this length be `maxV`. The width of the hole we can form is `maxV + 1`.
    - The maximum square side is `min(maxH + 1, maxV + 1)`.

### Algorithm
1.  **Sort**: First, sort both `hBars` and `vBars`. This is crucial to easily detect consecutive sequences (e.g., 2, 3, 4...).
2.  **Calculate Consecutive Counts**:
    - Iterate through the sorted `hBars`. If `hBars[i] == hBars[i-1] + 1`, increment the current consecutive count. Otherwise, reset it to 1. Track the maximum count (`maxConsecutiveHBars`).
    - Repeat the same process for `vBars` to find `maxConsecutiveVBars`.
3.  **Compute Result**:
    - The potential height is `maxConsecutiveHBars + 1`.
    - The potential width is `maxConsecutiveVBars + 1`.
    - The side of the largest square is the minimum of these two values.
    - Return `side * side`.

---

## üíª Solution Code

```cpp
// Intuition: Removing 'k' consecutive bars creates a gap of size 'k + 1'. To find the largest square, we need the longest sequence of consecutive removable bars for both dimensions.
// Approach: Sort the bar arrays to find consecutive sequences easily. Iterate to find the max length of consecutive bars for horizontal and vertical inputs. The square side is min(max_h_gap, max_v_gap) + 1.
// Time Complexity: O(H log H + V log V) where H is hBars.size() and V is vBars.size(), primarily due to sorting.
// Space Complexity: O(1) or O(log N) depending on the internal stack space used by the sorting algorithm.

class Solution {
public:
    int maximizeSquareHoleArea(int n, int m, vector<int>& hBars, vector<int>& vBars) {
        // 1st Step: Sort the inputs to find consecutive sequences
        sort(begin(hBars), end(hBars));
        sort(begin(vBars), end(vBars));

        int maxConsecutiveHBars = 1; // Length of Longest consecutive horizontal bars found so far
        int maxConsecutiveVBars = 1; // Length of Longest consecutive vertical bars found so far

        // First find Length of Longest consecutive horizontal bars
        int currConsecutiveHBars = 1;
        for(int i = 1; i < hBars.size(); i++) {
            // Check if current bar is consecutive to previous one
            if(hBars[i] - hBars[i-1] == 1) {
                currConsecutiveHBars++;
            } else {
                // Reset counter if sequence breaks
                currConsecutiveHBars = 1;
            }
            // Update global maximum for horizontal bars
            maxConsecutiveHBars = max(maxConsecutiveHBars, currConsecutiveHBars);
        }

        // Similarly, find Length of Longest consecutive vertical bars
        int currConsecutiveVBars = 1;
        for(int i = 1; i < vBars.size(); i++) {
            // Check if current bar is consecutive to previous one
            if(vBars[i] - vBars[i-1] == 1) {
                currConsecutiveVBars++;
            } else {
                // Reset counter if sequence breaks
                currConsecutiveVBars = 1;
            }
            // Update global maximum for vertical bars
            maxConsecutiveVBars = max(maxConsecutiveVBars, currConsecutiveVBars);
        }

        // Square width and height must be same. We can reduce the larger dimension to match the smaller one.
        // If we removed 'k' bars, we get a space of 'k + 1'.
        // So, take the minimum of the max consecutive counts and add 1.
        int side = min(maxConsecutiveHBars, maxConsecutiveVBars) + 1;
        
        return side * side;
    }
};

/*
*
* Dry Run
* Input: n = 2, m = 1, hBars = [2,3], vBars = [2]
*
* 1. Sort hBars -> [2, 3]
* 2. Sort vBars -> [2]
*
* 3. Process hBars:
* - i = 1: hBars[1] (3) - hBars[0] (2) == 1. curr = 2. maxH = 2.
* - Result maxConsecutiveHBars = 2.
*
* 4. Process vBars:
* - Loop doesn't run (size is 1). maxConsecutiveVBars remains 1.
*
* 5. Calculate Side:
* - side = min(2, 1) + 1 = 1 + 1 = 2.
*
* 6. Calculate Area:
* - area = 2 * 2 = 4.
*
* Output: 4
*/

```

---

## üìÑ License

This repository is released under the [MIT License](https://www.google.com/search?q=./LICENSE).

> **This repository and its solutions are provided for educational purposes only and are not intended for commercial use. Please refer to the [LeetCode problem statement](https://leetcode.com/problems/maximize-area-of-square-hole-in-grid/description/) for original content and copyright.**

## üë®‚Äçüíª Author

* [imnilesh18](https://github.com/imnilesh18)
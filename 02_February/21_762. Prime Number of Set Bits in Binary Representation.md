# 762. Prime Number of Set Bits in Binary Representation

<div align="center">
  <a href="https://leetcode.com/problems/prime-number-of-set-bits-in-binary-representation/description/">
    <img src="https://img.shields.io/badge/LeetCode-762-FFA116?style=for-the-badge&logo=leetcode&logoColor=black" alt="LeetCode Problem" />
  </a>
  <img src="https://img.shields.io/badge/Difficulty-Easy-brightgreen?style=for-the-badge" alt="Difficulty Easy" />
  <img src="https://img.shields.io/badge/Topic-Math-blue?style=for-the-badge" alt="Math" />
  <img src="https://img.shields.io/badge/Topic-Bit_Manipulation-blueviolet?style=for-the-badge" alt="Bit Manipulation" />
</div>

---

## ğŸ“ Problem Statement

Given two integers `left` and `right`, return the count of numbers in the inclusive range `[left, right]` having a **prime number of set bits** in their binary representation.

*Recall that the number of set bits an integer has is the number of '1's present when written in binary.*
For example, `21` written in binary is `10101`, which has `3` set bits.

---

## ğŸ’¡ Examples

### Example 1:
| Input | Output |
| :--- | :--- |
| `left = 6, right = 10` | `4` |

**Explanation:**
- 6 -> 110 (2 set bits, 2 is prime)
- 7 -> 111 (3 set bits, 3 is prime)
- 8 -> 1000 (1 set bit, 1 is not prime)
- 9 -> 1001 (2 set bits, 2 is prime)
- 10 -> 1010 (2 set bits, 2 is prime)

4 numbers have a prime number of set bits.

### Example 2:
| Input | Output |
| :--- | :--- |
| `left = 10, right = 15` | `5` |

**Explanation:**
- 10 -> 1010 (2 set bits, 2 is prime)
- 11 -> 1011 (3 set bits, 3 is prime)
- 12 -> 1100 (2 set bits, 2 is prime)
- 13 -> 1101 (3 set bits, 3 is prime)
- 14 -> 1110 (3 set bits, 3 is prime)
- 15 -> 1111 (4 set bits, 4 is not prime)

5 numbers have a prime number of set bits.

---

## âš™ï¸ Constraints

- `1 <= left <= right <= 10^6`
- `0 <= right - left <= 10^4`

---

## ğŸ§  Approach & Key Insights

The simplest way to solve this problem is to iterate from `left` to `right`, count the set bits (1s) for each number, and then check if that count is a prime number.

**Key Insight:**
According to the constraints, the maximum number can be up to $10^6$. 
We know that $2^{10} = 1024 \approx 10^3$, so $10^6 \approx (2^{10})^2 = 2^{20}$.
This means that it will take a maximum of 20 bits to represent $10^6$.
Therefore, the maximum number of set bits in any number cannot exceed **20**.
    
We don't need to write a separate function to check for primes every time (like looping to find primes in $O(\sqrt{N})$ time). We can simply store the prime numbers up to 20 (`2, 3, 5, 7, 11, 13, 17, 19`) in an `unordered_set` and directly check in `O(1)` time whether the number of set bits is prime or not.

---

## ğŸ’» Optimized Solution

```cpp
// Intuition: The maximum number is 10^6 which can be represented in 20 bits. So the maximum number of set bits for any number will be 20.
// Approach: Create a set of all prime numbers up to 20. Iterate from left to right, count the set bits, and check if it exists in the set.
// Time Complexity: O((right - left) * log(num)) - The loop runs (right - left) times and popcount takes O(log(num)) time.
// Space Complexity: O(1) - The size of the set to store prime numbers up to 20 is constant.

//Approach (Simple loop and check)
//T.C : O((right - left) * log(num))
//S.C : O(1)
class Solution {
public:
    int countPrimeSetBits(int left, int right) {
        // Set of possible prime numbers up to 20
        unordered_set<int> primes = { 2, 3, 5, 7, 11, 13, 17, 19 };
        
        int result = 0; // Variable to track the answer

        // Iterate from left to right
        for (int num = left; num <= right; num++) {
            // Count the set bits (1s) of the current number
            int setBits = __builtin_popcount(num);
            
            // If the number of set bits is in the prime set, increment the count
            if(primes.count(setBits))
                result += 1;
        }

        return result;
    }
};

/*
*
* Dry Run
*
* left = 6, right = 10
* * num = 6 (Binary: 110)
* setBits = 2. 2 is present in the prime set. result = 1.
* * num = 7 (Binary: 111)
* setBits = 3. 3 is present in the prime set. result = 2.
* * num = 8 (Binary: 1000)
* setBits = 1. 1 is not present in the prime set. result = 2.
* * num = 9 (Binary: 1001)
* setBits = 2. 2 is present in the prime set. result = 3.
* * num = 10 (Binary: 1010)
* setBits = 2. 2 is present in the prime set. result = 4.
* * Loop ends.
* Final Output (result) = 4
*
*/
```

---

## ğŸ“„ License

This repository is released under the [MIT License](./LICENSE).

> **This repository and its solutions are provided for educational purposes only and are not intended for commercial use. Please refer to the [LeetCode problem statement](https://leetcode.com/problems/prime-number-of-set-bits-in-binary-representation/description/) for original content and copyright.**

## ğŸ‘¨â€ğŸ’» Author

- [imnilesh18](https://github.com/imnilesh18)